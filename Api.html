<html>
    <head>
        <body>
            <div id = "resultTable"></div>
        </body>
        <script>
           fetch("https://mocki.io/v1/d4867d8b-b5d5-4a48-a4ab-79131b5809b8")
           //fetch("http://localhost:5000/users")
.then(data=>{
    return data.json();
})
.then (users=>{
    getDynamicTable(users)
});
function getDynamicTable(users){
    const tbl = document.createElement('table');
    const tblHead = document.createElement('thead');
    const tblBody = document.createElement('tbody');
    const tableHeadRow = document.createElement('tr');
    Object.keys(users[0]).forEach((key)=>{
        if(key ==='coursesEnrolled'){
            const theadCel = document.createElement('th');
            const cellText = document.createTextNode(key);
            theadCel.appendChild(cellText);
            tableHeadRow.appendChild(theadCel)
            console.log();
        }else{
            const theadCel = document.createElement('th');
            const cellText = document.createTextNode(key);
            theadCel.appendChild(cellText);
            tableHeadRow.appendChild(theadCel);
        }

    });
    users.forEach(studentsData => {
        const row = document.createElement('tr');
        for( studentKey in studentsData){
            const cell = document.createElement('td');
            const cellText = document.createTextNode(studentsData[studentKey]);
            cell.appendChild(cellText);
            row.appendChild(cell);
        }
        tblBody.appendChild(row);
    });
    tbl.appendChild(tableHeadRow);
    tbl.appendChild(tblBody);
    tbl.setAttribute("border","2");
    document.querySelector('#resultTable').innerHTML = "";
    document.querySelector('#resultTable').appendChild(tbl);

}
        </script>
    </head>
</html>